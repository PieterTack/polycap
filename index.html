<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>polycap: polycap</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">polycap<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Calculate X-ray transmission through polycapillaries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">polycap </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Polycap</b> is a library for C with Python bindings that allows for the simulation of X-ray photons in poly- and monocapillary optics with multi-core processing abilities. This code allows for the study of the influence of the capillary shape, its deviations, surface roughness, reflector material, X-ray energy, source size, distance and divergence on the optic's efficiency, working distance and focal spot size.</p>
<p>For each simulated photon, characterized by a three dimensional position, direction and electric field vector, the transmission efficiency through the optic is calculated as a result of a series of reflections within the capillary optic. Additionally, each transmitted photon is characterized by its exit coordinate, direction and electric field vector as well as traveled photon path length within the polycapillary optic. These parameters are saved in an HDF5 output file.</p>
<p>The polycapillary optic's profile is considered to be of hexagonal shape, due to a hexagonal packing of the single capillaries.</p>
<p>At each photon - capillary wall interaction the reflectivity is determined by the Fresnel equations for s and p polarized light:  </p><p class="formulaDsp">
\[
 R_{s}(\theta,E) = \left|
     \frac{n_{1} \cos{\theta} - n_{2} \sqrt{1 - \left( \frac{n_{1}}{n_{2}} \sin{\theta} \right)^{2} }}{n_{1} \cos{\theta} + n_{2} \sqrt{1 - \left( \frac{n_{1}}{n_{2}} \sin{\theta} \right)^{2} }}
    \right|^{2}
 \\
 R_{p}(\theta,E) = \left|
        \frac{n_{1} \sqrt{1 - \left( \frac{n_{1}}{n_{2}} \sin{\theta} \right)^{2} } - n_{2} \cos{\theta}}{n_{1} \sqrt{1 - \left( \frac{n_{1}}{n_{2}} \sin{\theta} \right)^{2}  } + n_{2}  \cos{\theta}}
        \right|^{2}
\]
</p>
<p> with \(\theta\) the glancing angle of the incident radiation and \(n\) defined as \(n = \alpha - i\beta\) with  </p><p class="formulaDsp">
\[
  \alpha = \left(\frac{hc}{E}\right)^{2}
        \frac{N_{A}r_{0}\rho}{2\pi}
        \sum\limits_{j=1}^N \frac{w_{j}}{A_{j}} (Z_{j} + f_{j}^{&#39;})
 \\
    \beta = \left(\frac{hc}{E}\right)^{2}
    \frac{N_{A}r_{0}\rho}{2\pi}
    \sum\limits_{j=1}^N \frac{w_{j}}{A_{j}} f_{j}^{&quot;} = \frac{hc}{4\pi} \frac{\mu_{L}}{E}
\]
</p>
<p> Here \(h\) is Planck's constant, \(c\) the light velocity, \(E\) the photon energy, \(N_{A}\) Avogadro's number, \(r_{0}\) the classical electron radius, \(\rho\) the material density, \(N\) the number of elements with weight fraction \(w_{j}\), \(A_{j}\) the atomic weight, \(Z_{j}\) the atomic number and \(f_{j}\) the atomic scattering for element \(j\) and \(\mu_{L}\) the linear attenuation coefficient. By propagating the photon through the capillary and determining the reflectivity at each point a final transmission efficiency, exit coordinate and direction is obtained. This process can then be repeated for multiple photons as a means to simulate an X-ray source with known distance, size and divergence propagating through the capillary optic.</p>
<dl class="section author"><dt>Authors</dt><dd>Pieter Tack, Tom Schoonjans, Laszlo Vincze </dd></dl>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
